---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';

const allPrompts = await getCollection('prompts');
const categoryPrompts = allPrompts.filter(p => p.data.category === 'programs');

const grouped = categoryPrompts.reduce((acc, prompt) => {
  const sub = prompt.data.subcategory || 'Other';
  if (!acc[sub]) acc[sub] = [];
  acc[sub].push(prompt);
  return acc;
}, {} as Record<string, typeof categoryPrompts>);
---

<BaseLayout title="Program Management" description="AI prompts for impact measurement, program evaluation, volunteer management, and program reporting">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="mb-12">
      <div class="text-6xl mb-4">ðŸŽ¯</div>
      <h1 class="text-5xl font-bold mb-4">Program Management</h1>
      <p class="text-xl text-gray-600 max-w-3xl">
        AI prompts for impact measurement, program evaluation, volunteer management, and program reporting
      </p>
      <p class="mt-4 text-lg">
        <span class="font-semibold text-blue-600">{categoryPrompts.length} prompts</span> in this category
      </p>
    </div>

    <div class="bg-green-50 border-l-4 border-green-500 p-6 mb-12 rounded-r-lg">
      <h2 class="text-2xl font-bold mb-4">Why Program Management Prompts Matter</h2>
      <div class="prose prose-lg max-w-none">
        <p>Program Managers are pulled between service delivery and administrative requirements. According to research on nonprofit operations, reporting and evaluation tasks can consume 20-30% of program staff timeâ€”time that could be spent serving beneficiaries. Volunteer coordination, impact reporting, and grant evaluations are essential but time-intensive.</p>
        <p>The challenge: Program staff need to demonstrate impact with data and stories while maintaining focus on direct service. Creating logic models, writing evaluation reports, and documenting outcomes are critical for funding but compete with program delivery time.</p>
        <p><strong>Where AI helps:</strong> Draft evaluation frameworks, transform program data into compelling narratives, create volunteer materials, and generate impact reportsâ€”reducing administrative burden while improving documentation quality.</p>
      </div>
    </div>

    {Object.entries(grouped).map(([subcategory, prompts]) => (
      <div class="mb-12">
        <h2 class="text-2xl font-bold mb-6 pb-2 border-b-2 border-gray-200">{subcategory}</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {prompts.map((prompt) => (
            <a
              href={`/prompts/${prompt.slug}`}
              class="bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition border border-gray-200 hover:border-green-500"
            >
              <div class="flex items-start justify-between mb-3">
                <span class="text-xs font-semibold px-2 py-1 bg-green-100 text-green-700 rounded">
                  {subcategory}
                </span>
                <span class="text-xs text-gray-500">{prompt.data.difficulty}</span>
              </div>
              <h3 class="text-lg font-semibold mb-2">{prompt.data.title}</h3>
              <p class="text-gray-600 text-sm mb-4">{prompt.data.description}</p>
              <div class="flex flex-wrap gap-1">
                {prompt.data.role.slice(0, 2).map((role) => (
                  <span class="text-xs px-2 py-1 bg-purple-50 text-purple-700 rounded">{role}</span>
                ))}
              </div>
            </a>
          ))}
        </div>
      </div>
    ))}

    <div class="bg-gray-50 rounded-lg p-8 mt-12">
      <h2 class="text-2xl font-bold mb-4">Best Practices</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-semibold text-lg mb-2">Impact Measurement</h3>
          <ul class="text-gray-700 space-y-2">
            <li>â€¢ Use concrete metrics and beneficiary stories</li>
            <li>â€¢ Connect outputs to outcomes clearly</li>
            <li>â€¢ Regular data collection reduces reporting burden</li>
          </ul>
        </div>
        <div>
          <h3 class="font-semibold text-lg mb-2">Volunteer Management</h3>
          <ul class="text-gray-700 space-y-2">
            <li>â€¢ Clear role descriptions increase retention</li>
            <li>â€¢ Structured onboarding improves volunteer experience</li>
            <li>â€¢ Recognition and appreciation drive engagement</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</BaseLayout>
